<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8"> <!-- 56일차(29일차) 부트스트랩 -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>         <!-- 부트스트랩의 css 와 Separte 복사 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>

    <script src="/ex_html/jquery/jquery-3.6.0.js"></script>     <!-- 계속 사용하던 JQuery -->


</head>

<body>
    <div class="row">
        <div class="col-md-2"></div>
        <div class="col-md-8" id="drawBit">
        </div>
        <div class="col-md-2">
        </div>
    </div>
    <div class="row">
        <div class="col-md-2"></div>
        <div class="col-md-8">
            <!-- pagination -->
            <nav aria-label="Page navigation example">
                <ul class="pagination justify-content-center">
                  <li class="page-item">
                    <a class="page-link" href="#" aria-label="Previous">
                      <span aria-hidden="true">&laquo;</span>
                    </a>
                  </li>
                  <li class="page-item"><a class="page-link" href="#">1</a></li>
                  <li class="page-item"><a class="page-link" href="#">2</a></li>
                  <li class="page-item"><a class="page-link" href="#">3</a></li>
                  <li class="page-item">
                    <a class="page-link" href="#" aria-label="Next">
                      <span aria-hidden="true">&raquo;</span>
                    </a>
                  </li>
                </ul>
              </nav>
        </div>
        <div class="col-md-2">
            <button type="button" class="btn btn-primary" id="btn_click">출력</button>
        </div>
    </div>

    <script>
        $(document).ready(function () {
            $("#btn_click").click(function () {
                searchAjax("market/all");
            });
        });

        function searchAjax(partUrl) {
            $.ajax({
                url: "https://www.op.gg/summoner/userName=asd"
                , dataType: "json"
                , success: function (data) {
                    alert(JSON.stringify(data));
                    console.log(JSON.stringify(data));
                    fn_dataRead(data);
                }
                , error(e) {
                    console.log(e);
                }
            });
        }

        function fn_dataRead(d) {
            var divlist = document.getElementById("drawBit");
            var v_tbStr = '<table class="table table-striped">';
            v_tbStr += "<thead><tr> <th>No.</th><th>Market</th><th>Korean</th><th>English</th</tr></thead>";
            v_tbStr += "<tbody>";
            for (var i = 0; i < d.length; i++) {
                v_tbStr += "<tr>";
                v_tbStr += "<td>" + (i + 1) + "</td>";
                v_tbStr += "<td>" + d[i].market + "</td>";
                v_tbStr += "<td>" + d[i].korean_name + "</td>";
                v_tbStr += "<td>" + d[i].english_name + "</td>";
                v_tbStr += "</tr>";
            }
            v_tbStr += "</tbody>";
            v_tbStr += "</table>";
            divlist.innerHTML = v_tbStr;
        }
    </script>
</body>

</html>